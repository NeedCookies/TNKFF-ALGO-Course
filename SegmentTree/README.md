# Динамическое программирование
## Задача. Чипи-чипи чапа-чапа
Имя входного файла: стандартный ввод  
Имя выходного файла: стандартный вывод  
Ограничение по времени: 1 секунда  
Ограничение по памяти: 256 мегабайт  

Петя не понял первоапрельской шутки от команды преподавателей курса по алгоритмам и структурам данных в Тинькофф и пошел решать шуточный контест, чтобы получить оценку за курс.  
Легко справившись с первой же задачей, Петя задумался, а как бы он её решал, если бы злобные преподаватели в процессе контеста постоянно меняли бы фрагменты видео. Формально говоря, он разбил видео с котиком на n фрагментов и посчитал, сколько раз котик кивает головой на каждом из фрагментов. Злобные преподаватели могут подменить один фрагмент на другой, где котик будет кивать головой другое количество раз.  
Пете нужно решить задачи ещё 4 задачи из контеста, поэтому эта нелегкая задача легла на Вас! Помогите мальчику посчитать, сколько раз котик кивает головой на отрезке с фрагмента l включительно по фрагмент r невключительно.
#### **Формат входных данных**
Первая строка содержит два числа n и m (1 <= n, m <= 10^5) – количество фрагментов и число раз, которые преподаватели подменяли фрагменты.  
Следующая строка содержит n чисел ai – сколько раз котик кивает головой на i-м фрагменте видео (0 <= ai <= 10^9).  
Далее следует описание операций. Описание каждой операции имеет следующий вид:
* 1 i v – подменить i-й фрагмент на другой, где v кивков (0 <= i < n, 0 <= v <= 10^9).
* 2 l r – вычислить количество кивков на фрагментах с индексами от l до r − 1 (0 6 l < r 6 n).
#### **Формат выходных данных**
Для каждой операции второго типа выведите соответствующее количество.
### Пример
| Стандартный ввод
|:----------------:|
```
5 5
5 4 2 3 5
2 0 3
1 1 1
2 0 3
1 3 1
2 0 5
```
| Стандартный вывод |
|:----------------:|
```
11
8
14
```
[Решение](https://github.com/NeedCookies/TNKFF-ALGO-Course/blob/main/SegmentTree/Task1/Task1/Program.cs)

## Задача B. Число минимумов на отрезке
Имя входного файла: стандартный ввод  
Имя выходного файла: стандартный вывод  
Ограничение по времени: 1 секунда  
Ограничение по памяти: 256 мегабайт  

Теперь измените код дерева отрезков, чтобы кроме минимума на отрезке считалось также и число элементов, равных минимуму.
#### **Формат входных данных**
Первая строка содержит два числа n и m (1 <= n, m <= 10^5) — размер массива и число операций.  
Следующая строка содержит n чисел ai – начальное состояние массива (0 <= ai <= 10^9). Далее следует описание операций. Описание каждой операции имеет следующий вид:
* 1 i v – присвоить элементу с индексом i значение v (0 <= i < n, 0 <= v <= 10^9
).
* 2 l r – найти минимум и число элементов, равных минимуму, среди элементов с индексами от l до r − 1 (0 <= l < r <= n).
#### **Формат выходных данных**
Для каждой операции второго типа выведите два числа —- минимум на заданном отрезке и число элементов, равных этому минимуму.
### Пример
| Стандартный ввод
|:----------------:|
```
5 5
3 4 3 5 2
2 0 3
1 1 2
2 0 3
1 0 2
2 0 5
```
| Стандартный вывод |
|:----------------:|
```
3 2
2 1
2 3
```
[Решение](https://github.com/NeedCookies/TNKFF-ALGO-Course/blob/main/SegmentTree/Task2/Task2/Program.cs)

## Задача. K-я единица
Имя входного файла: стандартный ввод  
Имя выходного файла: стандартный вывод  
Ограничение по времени: 1 секунда  
Ограничение по памяти: 256 мегабайт  

В этой задаче вам нужно добавить в дерево отрезков операцию нахождения k-й единицы.
#### **Формат входных данных**
Первая строка содержит два числа n и m (1 <= n, m <= 10^5) – размер массива и число операций.  
Следующая строка содержит n чисел ai – начальное состояние массива (ai ∈ {0, 1}). Далее следует описание операций. Описание каждой операции имеет следующий вид:
* 1 i – изменить элемент с индексом i на противоположный.
* 2 k – найти k-ю единицу (единицы нумеруются с 0, гарантируется, что в массиве достаточное количество единиц).
#### **Формат выходных данных**
Для каждой операции второго типа выведите индекс соответствующей единицы (все индексы в этой задаче от 0).
### Пример
| Стандартный ввод
|:----------------:|
```
5 7
1 1 0 1 0
2 0
2 1
2 2
1 2
2 3
1 0
2 0
```
| Стандартный вывод |
|:----------------:|
```
0
1
3
3
1
```
[Решение](https://github.com/NeedCookies/TNKFF-ALGO-Course/blob/main/SegmentTree/Task3/Task3/Program.cs)

## Задача. Первый элемент не меньше X
Имя входного файла: стандартный ввод  
Имя выходного файла: стандартный вывод  
Ограничение по времени: 1 секунда  
Ограничение по памяти: 256 мегабайт  

В этой задаче вам нужно добавить в дерево отрезков операцию нахождения по данным x и l минимального индекса j, для которого j > l и a[j] > x.
#### **Формат входных данных**
Первая строка содержит два числа n и m (1 <= n, m <= 10^5) – размер массива и число операций.  
Следующая строка содержит n чисел ai – начальное состояние массива (0 <= ai <= 10^9). Далее следует описание операций. Описание каждой операции имеет следующий вид:
* 1 i v – изменить элемент с индексом i на v (0 <= i < n, 0 <= v <= 10^9).
* 2 x l – найти минимальный индекс j, для j > l и a[j] > x (0 <= x <= 10^9, 0 <= l < n). Если такого элемента нет, выведите −1. Индексы начинаются с 0.
#### **Формат выходных данных**
Для каждой операции второго типа выведите ответ на запрос.
### Пример
| Стандартный ввод
|:----------------:|
```
5 7
1 3 2 4 3
2 3 0
2 3 2
1 2 5
2 4 1
2 5 4
1 3 7
2 6 1
```
| Стандартный вывод |
|:----------------:|
```
1
3
2
-1
3
```
[Решение](https://github.com/NeedCookies/TNKFF-ALGO-Course/blob/main/SegmentTree/Task4/Task4/Program.cs)

## Задача. Прибавление и минимум
Имя входного файла: стандартный ввод  
Имя выходного файла: стандартный вывод  
Ограничение по времени: 1 секунда  
Ограничение по памяти: 256 мегабайт  

Есть массив из n элементов, изначально заполненный нулями. Вам нужно написать структуру данных, которая обрабатывает два вида запросов:
* прибавить к отрезку от l до r − 1 число v
* узнать минимум на отрезке от l до r − 1
#### **Формат входных данных**
Первая строка содержит два числа n и m (1 <= n, m <= 100000) – размер массива и число операций.  
Далее следует описание операций. Описание каждой операции имеет следующий вид:
* 1 l r v – прибавить значение v к отрезку от l до r − 1 (0 <= l < r <= n, 0 <= v <= 10^9)
* 2 l r – узнать минимум на отрезке от l до r − 1 (0 <= l < r <= n).
#### **Формат выходных данных**
Для каждой операции второго типа выведите соответствующее значение.
### Пример
| Стандартный ввод
|:----------------:|
```
5 6
1 0 3 3
2 1 2
1 1 4 4
2 1 3
2 1 4
2 3 5
```
| Стандартный вывод |
|:----------------:|
```
3
7
4
0
```
[Решение C# ](https://github.com/NeedCookies/TNKFF-ALGO-Course/blob/main/SegmentTree/Task1Part2/Task1Part2/Program.cs)
[Решение C++ (проходит по времени)](https://github.com/NeedCookies/TNKFF-ALGO-Course/blob/main/SegmentTree/Task1Part2PlusPLus/Task1Part2PlusPLus/Task1Part2PlusPLus.cpp)

## Задача. Присваивание, прибавление и сумма
Имя входного файла: стандартный ввод  
Имя выходного файла: стандартный вывод  
Ограничение по времени: 1 секунда  
Ограничение по памяти: 256 мегабайт  

Есть массив из n элементов, изначально заполненный нулями. Вам нужно написать структуру данных, которая обрабатывает три вида запросов:
* присвоить всем элементам на отрезке от l до r − 1 значение v
* прибавить ко всем элементам на отрезке от l до r − 1 число v
* узнать сумму на отрезке от l до r − 1
#### **Формат входных данных**
Первая строка содержит два числа n и m (1 <= n, m <= 100000) – размер массива и число операций.  
Далее следует описание операций. Описание каждой операции имеет следующий вид:
* 1 l r v – присвоить всем элементам на отрезке от l до r−1 значение v (0 <= l < r <=> n, 0 <= v <= 10^5).
* 2 l r v – прибавить ко всем элементам на отрезке от l до r−1 число v (0 <= l < r <= n, 0 <= v <= 10^5).
* 3 l r – узнать сумму на отрезке от l до r − 1 (0 <= l < r <+ n)
#### **Формат выходных данных**
Для каждой операции третьего типа выведите соответствующее значение.
### Пример
| Стандартный ввод
|:----------------:|
```
5 7
1 0 3 3
2 2 4 2
3 1 3
2 1 5 1
1 0 2 2
3 0 3
3 3 5
```
| Стандартный вывод |
|:----------------:|
```
8
10
4
```
[Решение](https://github.com/NeedCookies/TNKFF-ALGO-Course/blob/main/SegmentTree/Task2Part2/Task2Part2/Program.cs)